<div class="dashboard-container">
  <div *ngIf="isAdmin" class="admin-dashboard">
    <div class="dashboard-header">
      <h2>Dashboard Amministratore</h2>
      <div class="welcome-message">
        Benvenuto, <strong>{{ userProfile?.nome }} {{ userProfile?.cognome }}</strong>
      </div>
    </div>

    <div class="stats-section">
      <div class="stat-card">
        <div class="stat-icon">üë•</div>
        <div class="stat-info">
          <h3>Utenti Totali</h3>
          <p class="stat-number">{{ recentUsers.length }}</p>
        </div>
      </div>
    </div>

    <div class="quick-actions">
      <h3>Azioni Rapide</h3>
      <div class="action-buttons">
        <button class="btn btn-primary" routerLink="/admin/utenti">
          <span class="btn-icon">üë•</span>
          Gestisci Utenti
        </button>
        <button class="btn btn-secondary" (click)="openCreateUserDialog()">
          <span class="btn-icon">‚ûï</span>
          Nuovo Utente
        </button>
      </div>
    </div>

    <div class="recent-section">
      <h3>Utenti Recenti</h3>
      <div *ngIf="recentUsers.length > 0" class="users-grid">
        <div *ngFor="let user of recentUsers" class="user-card">
          <div class="user-avatar">
            {{ user.nome.charAt(0) }}{{ user.cognome.charAt(0) }}
          </div>
          <div class="user-info">
            <h4>{{ user.nome }} {{ user.cognome }}</h4>
          </div>
          <div class="user-role">
            <span [class]="'badge ' + (user.ruolo === 'ADMIN' ? 'badge-admin' : 'badge-user')">
              {{ user.ruolo }}
            </span>
          </div>
        </div>
      </div>
      <div *ngIf="recentUsers.length === 0" class="no-data">
        <p>Nessun utente trovato</p>
      </div>
    </div>
  </div>

  <div *ngIf="!isAdmin" class="user-dashboard">
    <div class="dashboard-header">
      <h2>Il Mio Profilo</h2>
      <div class="welcome-message">
        Benvenuto, <strong>{{ userProfile?.nome }} {{ userProfile?.cognome }}</strong>
      </div>
    </div>

    <div *ngIf="userProfile" class="profile-section">
      <div class="profile-card">
        <div class="profile-header">
          <h3>Dettagli Profilo</h3>
          <button class="btn btn-warning" (click)="editMyProfile()">
            <span class="btn-icon">‚úèÔ∏è</span>
            Modifica Profilo
          </button>
        </div>

        <div class="profile-details">
          <div class="detail-row"></div>
          <div class="detail-row">
            <span class="detail-label">Nome:</span>
            <span class="detail-value">{{ userProfile.nome }}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Cognome:</span>
            <span class="detail-value">{{ userProfile.cognome }}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Data di Nascita:</span>
            <span class="detail-value">{{ userProfile.dataNascita | date:'dd/MM/yyyy' }}</span>
          </div>
          <div class="detail-row">
            <span class="detail-label">Ruolo:</span>
            <span class="detail-value">
              <span [class]="'badge ' + (userProfile.ruolo === 'ADMIN' ? 'badge-admin' : 'badge-user')">
                {{ userProfile.ruolo }}
              </span>
            </span>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
